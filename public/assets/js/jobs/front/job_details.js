$(document).ready((function(){isJobAddedToFavourite?$(".favouriteText").text(removeFromFavorite):$(".favouriteText").text(addToFavorites),$("#jobUrl").val(window.location.href),$("#addToFavourite").on("click",(function(){var e=$(this).data("favorite-user-id"),o=$(this).data("favorite-job-id");$.ajax({url:addJobFavouriteUrl,type:"POST",data:{_token:$('meta[name="csrf-token"]').attr("content"),userId:e,jobId:o},success:function(e){e.success&&(e.data?$(".favouriteText").text(removeFromFavorite):$(".favouriteText").text(addToFavorites),displaySuccessMessage(e.message),location.reload())},error:function(e){displayErrorMessage(e.responseJSON.message)}})})),$(document).on("submit","#reportJobAbuse",(function(e){e.preventDefault(),processingBtn("#reportJobAbuse","#btnSave","loading"),$.ajax({url:reportAbuseUrl,type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$(".close-modal").click(),$(".reportJobAbuse").prop("disabled",!0))},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#reportJobAbuse","#btnSave")}})})),$(document).on("submit","#emailJobToFriend",(function(e){e.preventDefault(),processingBtn("#emailJobToFriend","#btnSendToFriend","loading"),$.ajax({url:emailJobToFriend,type:"POST",data:$(this).serialize(),success:function(e){e.success&&(displaySuccessMessage(e.message),$("#friendName,#friendEmail").val(""),$(".close-modal").click())},error:function(e){displayErrorMessage(e.responseJSON.message)},complete:function(){processingBtn("#emailJobToFriend","#btnSendToFriend")}})})),$("#emailJobToFriendModal").on("hidden.bs.modal",(function(){$("#friendName,#friendEmail").val("")})),$("#reportJobAbuseModal").on("hidden.bs.modal",(function(){$("#noteForReportAbuse").val("")}))}));